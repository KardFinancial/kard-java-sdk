/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.kard.api.resources.segmentusers;

import com.kard.api.core.ClientOptions;
import com.kard.api.core.RequestOptions;
import com.kard.api.resources.segmentusers.requests.GetStatusesRequest;
import com.kard.api.resources.segmentusers.types.GetStatusRequestBody;
import com.kard.api.resources.segmentusers.types.GetStatusResponse;
import com.kard.api.resources.segmentusers.types.GetStatusesResponse;
import java.util.concurrent.CompletableFuture;

public class AsyncSegmentUsersClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawSegmentUsersClient rawClient;

    public AsyncSegmentUsersClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawSegmentUsersClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawSegmentUsersClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Check if a user is in a segment
     */
    public CompletableFuture<GetStatusResponse> getStatus(
            String issuerId, String referringPartnerUserId, GetStatusRequestBody request) {
        return this.rawClient
                .getStatus(issuerId, referringPartnerUserId, request)
                .thenApply(response -> response.body());
    }

    /**
     * Check if a user is in a segment
     */
    public CompletableFuture<GetStatusResponse> getStatus(
            String issuerId,
            String referringPartnerUserId,
            GetStatusRequestBody request,
            RequestOptions requestOptions) {
        return this.rawClient
                .getStatus(issuerId, referringPartnerUserId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Check if users are in segments
     */
    public CompletableFuture<GetStatusesResponse> getStatuses(String issuerId, GetStatusesRequest request) {
        return this.rawClient.getStatuses(issuerId, request).thenApply(response -> response.body());
    }

    /**
     * Check if users are in segments
     */
    public CompletableFuture<GetStatusesResponse> getStatuses(
            String issuerId, GetStatusesRequest request, RequestOptions requestOptions) {
        return this.rawClient.getStatuses(issuerId, request, requestOptions).thenApply(response -> response.body());
    }
}
