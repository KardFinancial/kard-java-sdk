/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.kard.api.resources.transactions;

import com.kard.api.core.ClientOptions;
import com.kard.api.core.RequestOptions;
import com.kard.api.resources.transactions.requests.GetEarnedRewardsRequest;
import com.kard.api.resources.transactions.types.CreateAuditRequestBody;
import com.kard.api.resources.transactions.types.CreateAuditResponseBody;
import com.kard.api.resources.transactions.types.FraudulentTransactionObject;
import com.kard.api.resources.transactions.types.FraudulentTransactionRequestBody;
import com.kard.api.resources.transactions.types.GetEarnedRewardsResponse;
import com.kard.api.resources.transactions.types.TransactionsRequestBody;
import com.kard.api.resources.transactions.types.TransactionsResponse;

public class TransactionsClient {
    protected final ClientOptions clientOptions;

    private final RawTransactionsClient rawClient;

    public TransactionsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawTransactionsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawTransactionsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Call this endpoint to send all transactions made by all your enrolled users in your rewards program. The request body will depend on the transaction type.&lt;br/&gt;
     * Please use the correct type when calling the endpoint:
     * <ul>
     * <li><code>transaction</code>: These incoming transactions will be processed and matched by the Kard system. Learn more about the <a href="https://github.com/kard-financial/kard-postman#c-transaction-clo-matching">Transaction CLO Matching</a> flow here.</li>
     * <li><code>matchedTransaction</code>: For pre-matched transactions that need validation on match by the Kard system.&lt;br/&gt;</li>
     * </ul>
     * <p>&lt;b&gt;Required scopes:&lt;/b&gt; <code>transaction:write</code>&lt;br/&gt;
     * &lt;b&gt;Note:&lt;/b&gt; <code>Maximum of 500 transactions can be created per request</code>.</p>
     */
    public TransactionsResponse create(String organizationId, TransactionsRequestBody request) {
        return this.rawClient.create(organizationId, request).body();
    }

    /**
     * Call this endpoint to send all transactions made by all your enrolled users in your rewards program. The request body will depend on the transaction type.&lt;br/&gt;
     * Please use the correct type when calling the endpoint:
     * <ul>
     * <li><code>transaction</code>: These incoming transactions will be processed and matched by the Kard system. Learn more about the <a href="https://github.com/kard-financial/kard-postman#c-transaction-clo-matching">Transaction CLO Matching</a> flow here.</li>
     * <li><code>matchedTransaction</code>: For pre-matched transactions that need validation on match by the Kard system.&lt;br/&gt;</li>
     * </ul>
     * <p>&lt;b&gt;Required scopes:&lt;/b&gt; <code>transaction:write</code>&lt;br/&gt;
     * &lt;b&gt;Note:&lt;/b&gt; <code>Maximum of 500 transactions can be created per request</code>.</p>
     */
    public TransactionsResponse create(
            String organizationId, TransactionsRequestBody request, RequestOptions requestOptions) {
        return this.rawClient.create(organizationId, request, requestOptions).body();
    }

    /**
     * Call this endpoint to flag a submitted transaction as fraudulent. This will prevent it from being rewarded.&lt;br/&gt;
     * <p>&lt;b&gt;Required scopes:&lt;/b&gt;  <code>transaction:write</code>&lt;br/&gt;
     * &lt;b&gt;Note:&lt;/b&gt; <code>Maximum of 500 fraudulent transactions can be created per request</code>.</p>
     */
    public FraudulentTransactionObject createFraudMarkers(
            String organizationId, FraudulentTransactionRequestBody request) {
        return this.rawClient.createFraudMarkers(organizationId, request).body();
    }

    /**
     * Call this endpoint to flag a submitted transaction as fraudulent. This will prevent it from being rewarded.&lt;br/&gt;
     * <p>&lt;b&gt;Required scopes:&lt;/b&gt;  <code>transaction:write</code>&lt;br/&gt;
     * &lt;b&gt;Note:&lt;/b&gt; <code>Maximum of 500 fraudulent transactions can be created per request</code>.</p>
     */
    public FraudulentTransactionObject createFraudMarkers(
            String organizationId, FraudulentTransactionRequestBody request, RequestOptions requestOptions) {
        return this.rawClient
                .createFraudMarkers(organizationId, request, requestOptions)
                .body();
    }

    /**
     * Call this endpoint to request that a particular transaction be audited further by the Kard system, in the event of a missing cashback claim, incorrect cashback amount claim or other mis-match claims.&lt;br/&gt;
     * &lt;b&gt;Required scopes:&lt;/b&gt; <code>audit:write</code>
     */
    public CreateAuditResponseBody createAudits(String organizationId, String userId, CreateAuditRequestBody request) {
        return this.rawClient.createAudits(organizationId, userId, request).body();
    }

    /**
     * Call this endpoint to request that a particular transaction be audited further by the Kard system, in the event of a missing cashback claim, incorrect cashback amount claim or other mis-match claims.&lt;br/&gt;
     * &lt;b&gt;Required scopes:&lt;/b&gt; <code>audit:write</code>
     */
    public CreateAuditResponseBody createAudits(
            String organizationId, String userId, CreateAuditRequestBody request, RequestOptions requestOptions) {
        return this.rawClient
                .createAudits(organizationId, userId, request, requestOptions)
                .body();
    }

    /**
     * Retrieve rewarded transaction history for a specific user. Returns only SETTLED transactions within the last 12 months.
     * &lt;br/&gt;
     * &lt;b&gt;Required scopes:&lt;/b&gt; <code>transaction:read</code>
     * &lt;br/&gt;
     * &lt;b&gt;Query Limit:&lt;/b&gt; Maximum of 12 months of transaction data can be queried.
     */
    public GetEarnedRewardsResponse getEarnedRewards(String organizationId, String userId) {
        return this.rawClient.getEarnedRewards(organizationId, userId).body();
    }

    /**
     * Retrieve rewarded transaction history for a specific user. Returns only SETTLED transactions within the last 12 months.
     * &lt;br/&gt;
     * &lt;b&gt;Required scopes:&lt;/b&gt; <code>transaction:read</code>
     * &lt;br/&gt;
     * &lt;b&gt;Query Limit:&lt;/b&gt; Maximum of 12 months of transaction data can be queried.
     */
    public GetEarnedRewardsResponse getEarnedRewards(
            String organizationId, String userId, GetEarnedRewardsRequest request) {
        return this.rawClient.getEarnedRewards(organizationId, userId, request).body();
    }

    /**
     * Retrieve rewarded transaction history for a specific user. Returns only SETTLED transactions within the last 12 months.
     * &lt;br/&gt;
     * &lt;b&gt;Required scopes:&lt;/b&gt; <code>transaction:read</code>
     * &lt;br/&gt;
     * &lt;b&gt;Query Limit:&lt;/b&gt; Maximum of 12 months of transaction data can be queried.
     */
    public GetEarnedRewardsResponse getEarnedRewards(
            String organizationId, String userId, GetEarnedRewardsRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .getEarnedRewards(organizationId, userId, request, requestOptions)
                .body();
    }
}
