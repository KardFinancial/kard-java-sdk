/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.kard.api.resources.transactions.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.kard.api.core.ObjectMappers;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = MatchedTransactionsAttributes.Builder.class)
public final class MatchedTransactionsAttributes {
    private final String userId;

    private final int amount;

    private final Optional<Integer> subtotal;

    private final String description;

    private final OffsetDateTime authorizationDate;

    private final Optional<String> matchedOfferId;

    private final Optional<String> matchedLocationId;

    private final Optional<Merchant> merchant;

    private final PaymentType paymentType;

    private final Optional<String> cardBin;

    private final Optional<String> cardLastFour;

    private final Optional<String> authorizationCode;

    private final Optional<String> retrievalReferenceNumber;

    private final Optional<String> systemTraceAuditNumber;

    private final Optional<String> acquirerReferenceNumber;

    private final DirectionType direction;

    private final Optional<CardNetwork> cardNetwork;

    private final String transactionId;

    private final Optional<String> cardProductId;

    private final Optional<String> orderId;

    private final Optional<ReceiptMediumType> receiptMedium;

    private final Map<String, Object> additionalProperties;

    private MatchedTransactionsAttributes(
            String userId,
            int amount,
            Optional<Integer> subtotal,
            String description,
            OffsetDateTime authorizationDate,
            Optional<String> matchedOfferId,
            Optional<String> matchedLocationId,
            Optional<Merchant> merchant,
            PaymentType paymentType,
            Optional<String> cardBin,
            Optional<String> cardLastFour,
            Optional<String> authorizationCode,
            Optional<String> retrievalReferenceNumber,
            Optional<String> systemTraceAuditNumber,
            Optional<String> acquirerReferenceNumber,
            DirectionType direction,
            Optional<CardNetwork> cardNetwork,
            String transactionId,
            Optional<String> cardProductId,
            Optional<String> orderId,
            Optional<ReceiptMediumType> receiptMedium,
            Map<String, Object> additionalProperties) {
        this.userId = userId;
        this.amount = amount;
        this.subtotal = subtotal;
        this.description = description;
        this.authorizationDate = authorizationDate;
        this.matchedOfferId = matchedOfferId;
        this.matchedLocationId = matchedLocationId;
        this.merchant = merchant;
        this.paymentType = paymentType;
        this.cardBin = cardBin;
        this.cardLastFour = cardLastFour;
        this.authorizationCode = authorizationCode;
        this.retrievalReferenceNumber = retrievalReferenceNumber;
        this.systemTraceAuditNumber = systemTraceAuditNumber;
        this.acquirerReferenceNumber = acquirerReferenceNumber;
        this.direction = direction;
        this.cardNetwork = cardNetwork;
        this.transactionId = transactionId;
        this.cardProductId = cardProductId;
        this.orderId = orderId;
        this.receiptMedium = receiptMedium;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return The ID of the user as defined on the issuers system
     */
    @JsonProperty("userId")
    public String getUserId() {
        return userId;
    }

    /**
     * @return Transaction amount in cents
     */
    @JsonProperty("amount")
    public int getAmount() {
        return amount;
    }

    /**
     * @return The base amount in cents excluding additional charges (such as tips, taxes, and other fees).
     */
    @JsonProperty("subtotal")
    public Optional<Integer> getSubtotal() {
        return subtotal;
    }

    /**
     * @return Description of transaction - usually includes merchant and other key details on transaction
     */
    @JsonProperty("description")
    public String getDescription() {
        return description;
    }

    /**
     * @return Timestamp for transaction event. Date string should be in ISO 8601 format i.e.<code>'YYYY-MM-DDThh:mm:ss.sTZD'</code> where TZD = time zone designator (Z or +hh:mm or -hh:mm) i.e. <code>1994-11-05T08:15:30-05:00 OR 1994-11-05T08:15:30Z</code>
     */
    @JsonProperty("authorizationDate")
    public OffsetDateTime getAuthorizationDate() {
        return authorizationDate;
    }

    /**
     * @return The ID of the Kard offer to which the transaction was matched. If this field is omitted, the transaction will be considered unmatched to any Kard offer. This field <strong>must</strong> be omitted when the <code>paymentType</code> is <code>UNKNOWN</code> and neither an orderId nor a <code>cardLastFour</code> is supplied.
     */
    @JsonProperty("matchedOfferId")
    public Optional<String> getMatchedOfferId() {
        return matchedOfferId;
    }

    /**
     * @return The unique Kard location ID where the transaction took place. This field <strong>must</strong> be omitted  when <code>paymentType</code> is <code>UNKNOWN</code>.
     */
    @JsonProperty("matchedLocationId")
    public Optional<String> getMatchedLocationId() {
        return matchedLocationId;
    }

    /**
     * @return Merchant details
     */
    @JsonProperty("merchant")
    public Optional<Merchant> getMerchant() {
        return merchant;
    }

    /**
     * @return The type of payment involved in the transaction.
     */
    @JsonProperty("paymentType")
    public PaymentType getPaymentType() {
        return paymentType;
    }

    /**
     * @return Bank identification number (BIN). Must be a valid BIN of 6 digits. If over 6 digits, please send first 6. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.
     */
    @JsonProperty("cardBIN")
    public Optional<String> getCardBin() {
        return cardBin;
    }

    /**
     * @return Card last four digits. This field is <strong>required</strong> when <code>paymentType</code> is <code>CARD</code> and <code>matchedOfferId</code> is provided. It <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code>.
     */
    @JsonProperty("cardLastFour")
    public Optional<String> getCardLastFour() {
        return cardLastFour;
    }

    /**
     * @return Transaction approval code
     */
    @JsonProperty("authorizationCode")
    public Optional<String> getAuthorizationCode() {
        return authorizationCode;
    }

    /**
     * @return Retrieval Reference Number
     */
    @JsonProperty("retrievalReferenceNumber")
    public Optional<String> getRetrievalReferenceNumber() {
        return retrievalReferenceNumber;
    }

    /**
     * @return System Trace Audit Number
     */
    @JsonProperty("systemTraceAuditNumber")
    public Optional<String> getSystemTraceAuditNumber() {
        return systemTraceAuditNumber;
    }

    /**
     * @return Acquirer Reference Number
     */
    @JsonProperty("acquirerReferenceNumber")
    public Optional<String> getAcquirerReferenceNumber() {
        return acquirerReferenceNumber;
    }

    /**
     * @return The direction in which the funds flow - DEBIT or CREDIT
     */
    @JsonProperty("direction")
    public DirectionType getDirection() {
        return direction;
    }

    /**
     * @return The card network associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.
     */
    @JsonProperty("cardNetwork")
    public Optional<CardNetwork> getCardNetwork() {
        return cardNetwork;
    }

    /**
     * @return The transaction ID
     */
    @JsonProperty("transactionId")
    public String getTransactionId() {
        return transactionId;
    }

    /**
     * @return The card product ID associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.
     */
    @JsonProperty("cardProductId")
    public Optional<String> getCardProductId() {
        return cardProductId;
    }

    /**
     * @return The unique identifier for an online order linked to this transaction.
     */
    @JsonProperty("orderId")
    public Optional<String> getOrderId() {
        return orderId;
    }

    /**
     * @return Indicates the format of the receipt from which the transaction is derived.
     */
    @JsonProperty("receiptMedium")
    public Optional<ReceiptMediumType> getReceiptMedium() {
        return receiptMedium;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof MatchedTransactionsAttributes && equalTo((MatchedTransactionsAttributes) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(MatchedTransactionsAttributes other) {
        return userId.equals(other.userId)
                && amount == other.amount
                && subtotal.equals(other.subtotal)
                && description.equals(other.description)
                && authorizationDate.equals(other.authorizationDate)
                && matchedOfferId.equals(other.matchedOfferId)
                && matchedLocationId.equals(other.matchedLocationId)
                && merchant.equals(other.merchant)
                && paymentType.equals(other.paymentType)
                && cardBin.equals(other.cardBin)
                && cardLastFour.equals(other.cardLastFour)
                && authorizationCode.equals(other.authorizationCode)
                && retrievalReferenceNumber.equals(other.retrievalReferenceNumber)
                && systemTraceAuditNumber.equals(other.systemTraceAuditNumber)
                && acquirerReferenceNumber.equals(other.acquirerReferenceNumber)
                && direction.equals(other.direction)
                && cardNetwork.equals(other.cardNetwork)
                && transactionId.equals(other.transactionId)
                && cardProductId.equals(other.cardProductId)
                && orderId.equals(other.orderId)
                && receiptMedium.equals(other.receiptMedium);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.userId,
                this.amount,
                this.subtotal,
                this.description,
                this.authorizationDate,
                this.matchedOfferId,
                this.matchedLocationId,
                this.merchant,
                this.paymentType,
                this.cardBin,
                this.cardLastFour,
                this.authorizationCode,
                this.retrievalReferenceNumber,
                this.systemTraceAuditNumber,
                this.acquirerReferenceNumber,
                this.direction,
                this.cardNetwork,
                this.transactionId,
                this.cardProductId,
                this.orderId,
                this.receiptMedium);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static UserIdStage builder() {
        return new Builder();
    }

    public interface UserIdStage {
        /**
         * <p>The ID of the user as defined on the issuers system</p>
         */
        AmountStage userId(@NotNull String userId);

        Builder from(MatchedTransactionsAttributes other);
    }

    public interface AmountStage {
        /**
         * <p>Transaction amount in cents</p>
         */
        DescriptionStage amount(int amount);
    }

    public interface DescriptionStage {
        /**
         * <p>Description of transaction - usually includes merchant and other key details on transaction</p>
         */
        AuthorizationDateStage description(@NotNull String description);
    }

    public interface AuthorizationDateStage {
        /**
         * <p>Timestamp for transaction event. Date string should be in ISO 8601 format i.e.<code>'YYYY-MM-DDThh:mm:ss.sTZD'</code> where TZD = time zone designator (Z or +hh:mm or -hh:mm) i.e. <code>1994-11-05T08:15:30-05:00 OR 1994-11-05T08:15:30Z</code></p>
         */
        PaymentTypeStage authorizationDate(@NotNull OffsetDateTime authorizationDate);
    }

    public interface PaymentTypeStage {
        /**
         * <p>The type of payment involved in the transaction.</p>
         */
        DirectionStage paymentType(@NotNull PaymentType paymentType);
    }

    public interface DirectionStage {
        /**
         * <p>The direction in which the funds flow - DEBIT or CREDIT</p>
         */
        TransactionIdStage direction(@NotNull DirectionType direction);
    }

    public interface TransactionIdStage {
        /**
         * <p>The transaction ID</p>
         */
        _FinalStage transactionId(@NotNull String transactionId);
    }

    public interface _FinalStage {
        MatchedTransactionsAttributes build();

        _FinalStage additionalProperty(String key, Object value);

        _FinalStage additionalProperties(Map<String, Object> additionalProperties);

        /**
         * <p>The base amount in cents excluding additional charges (such as tips, taxes, and other fees).</p>
         */
        _FinalStage subtotal(Optional<Integer> subtotal);

        _FinalStage subtotal(Integer subtotal);

        /**
         * <p>The ID of the Kard offer to which the transaction was matched. If this field is omitted, the transaction will be considered unmatched to any Kard offer. This field <strong>must</strong> be omitted when the <code>paymentType</code> is <code>UNKNOWN</code> and neither an orderId nor a <code>cardLastFour</code> is supplied.</p>
         */
        _FinalStage matchedOfferId(Optional<String> matchedOfferId);

        _FinalStage matchedOfferId(String matchedOfferId);

        /**
         * <p>The unique Kard location ID where the transaction took place. This field <strong>must</strong> be omitted  when <code>paymentType</code> is <code>UNKNOWN</code>.</p>
         */
        _FinalStage matchedLocationId(Optional<String> matchedLocationId);

        _FinalStage matchedLocationId(String matchedLocationId);

        /**
         * <p>Merchant details</p>
         */
        _FinalStage merchant(Optional<Merchant> merchant);

        _FinalStage merchant(Merchant merchant);

        /**
         * <p>Bank identification number (BIN). Must be a valid BIN of 6 digits. If over 6 digits, please send first 6. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        _FinalStage cardBin(Optional<String> cardBin);

        _FinalStage cardBin(String cardBin);

        /**
         * <p>Card last four digits. This field is <strong>required</strong> when <code>paymentType</code> is <code>CARD</code> and <code>matchedOfferId</code> is provided. It <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code>.</p>
         */
        _FinalStage cardLastFour(Optional<String> cardLastFour);

        _FinalStage cardLastFour(String cardLastFour);

        /**
         * <p>Transaction approval code</p>
         */
        _FinalStage authorizationCode(Optional<String> authorizationCode);

        _FinalStage authorizationCode(String authorizationCode);

        /**
         * <p>Retrieval Reference Number</p>
         */
        _FinalStage retrievalReferenceNumber(Optional<String> retrievalReferenceNumber);

        _FinalStage retrievalReferenceNumber(String retrievalReferenceNumber);

        /**
         * <p>System Trace Audit Number</p>
         */
        _FinalStage systemTraceAuditNumber(Optional<String> systemTraceAuditNumber);

        _FinalStage systemTraceAuditNumber(String systemTraceAuditNumber);

        /**
         * <p>Acquirer Reference Number</p>
         */
        _FinalStage acquirerReferenceNumber(Optional<String> acquirerReferenceNumber);

        _FinalStage acquirerReferenceNumber(String acquirerReferenceNumber);

        /**
         * <p>The card network associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        _FinalStage cardNetwork(Optional<CardNetwork> cardNetwork);

        _FinalStage cardNetwork(CardNetwork cardNetwork);

        /**
         * <p>The card product ID associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        _FinalStage cardProductId(Optional<String> cardProductId);

        _FinalStage cardProductId(String cardProductId);

        /**
         * <p>The unique identifier for an online order linked to this transaction.</p>
         */
        _FinalStage orderId(Optional<String> orderId);

        _FinalStage orderId(String orderId);

        /**
         * <p>Indicates the format of the receipt from which the transaction is derived.</p>
         */
        _FinalStage receiptMedium(Optional<ReceiptMediumType> receiptMedium);

        _FinalStage receiptMedium(ReceiptMediumType receiptMedium);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder
            implements UserIdStage,
                    AmountStage,
                    DescriptionStage,
                    AuthorizationDateStage,
                    PaymentTypeStage,
                    DirectionStage,
                    TransactionIdStage,
                    _FinalStage {
        private String userId;

        private int amount;

        private String description;

        private OffsetDateTime authorizationDate;

        private PaymentType paymentType;

        private DirectionType direction;

        private String transactionId;

        private Optional<ReceiptMediumType> receiptMedium = Optional.empty();

        private Optional<String> orderId = Optional.empty();

        private Optional<String> cardProductId = Optional.empty();

        private Optional<CardNetwork> cardNetwork = Optional.empty();

        private Optional<String> acquirerReferenceNumber = Optional.empty();

        private Optional<String> systemTraceAuditNumber = Optional.empty();

        private Optional<String> retrievalReferenceNumber = Optional.empty();

        private Optional<String> authorizationCode = Optional.empty();

        private Optional<String> cardLastFour = Optional.empty();

        private Optional<String> cardBin = Optional.empty();

        private Optional<Merchant> merchant = Optional.empty();

        private Optional<String> matchedLocationId = Optional.empty();

        private Optional<String> matchedOfferId = Optional.empty();

        private Optional<Integer> subtotal = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(MatchedTransactionsAttributes other) {
            userId(other.getUserId());
            amount(other.getAmount());
            subtotal(other.getSubtotal());
            description(other.getDescription());
            authorizationDate(other.getAuthorizationDate());
            matchedOfferId(other.getMatchedOfferId());
            matchedLocationId(other.getMatchedLocationId());
            merchant(other.getMerchant());
            paymentType(other.getPaymentType());
            cardBin(other.getCardBin());
            cardLastFour(other.getCardLastFour());
            authorizationCode(other.getAuthorizationCode());
            retrievalReferenceNumber(other.getRetrievalReferenceNumber());
            systemTraceAuditNumber(other.getSystemTraceAuditNumber());
            acquirerReferenceNumber(other.getAcquirerReferenceNumber());
            direction(other.getDirection());
            cardNetwork(other.getCardNetwork());
            transactionId(other.getTransactionId());
            cardProductId(other.getCardProductId());
            orderId(other.getOrderId());
            receiptMedium(other.getReceiptMedium());
            return this;
        }

        /**
         * <p>The ID of the user as defined on the issuers system</p>
         * <p>The ID of the user as defined on the issuers system</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("userId")
        public AmountStage userId(@NotNull String userId) {
            this.userId = Objects.requireNonNull(userId, "userId must not be null");
            return this;
        }

        /**
         * <p>Transaction amount in cents</p>
         * <p>Transaction amount in cents</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("amount")
        public DescriptionStage amount(int amount) {
            this.amount = amount;
            return this;
        }

        /**
         * <p>Description of transaction - usually includes merchant and other key details on transaction</p>
         * <p>Description of transaction - usually includes merchant and other key details on transaction</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("description")
        public AuthorizationDateStage description(@NotNull String description) {
            this.description = Objects.requireNonNull(description, "description must not be null");
            return this;
        }

        /**
         * <p>Timestamp for transaction event. Date string should be in ISO 8601 format i.e.<code>'YYYY-MM-DDThh:mm:ss.sTZD'</code> where TZD = time zone designator (Z or +hh:mm or -hh:mm) i.e. <code>1994-11-05T08:15:30-05:00 OR 1994-11-05T08:15:30Z</code></p>
         * <p>Timestamp for transaction event. Date string should be in ISO 8601 format i.e.<code>'YYYY-MM-DDThh:mm:ss.sTZD'</code> where TZD = time zone designator (Z or +hh:mm or -hh:mm) i.e. <code>1994-11-05T08:15:30-05:00 OR 1994-11-05T08:15:30Z</code></p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("authorizationDate")
        public PaymentTypeStage authorizationDate(@NotNull OffsetDateTime authorizationDate) {
            this.authorizationDate = Objects.requireNonNull(authorizationDate, "authorizationDate must not be null");
            return this;
        }

        /**
         * <p>The type of payment involved in the transaction.</p>
         * <p>The type of payment involved in the transaction.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("paymentType")
        public DirectionStage paymentType(@NotNull PaymentType paymentType) {
            this.paymentType = Objects.requireNonNull(paymentType, "paymentType must not be null");
            return this;
        }

        /**
         * <p>The direction in which the funds flow - DEBIT or CREDIT</p>
         * <p>The direction in which the funds flow - DEBIT or CREDIT</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("direction")
        public TransactionIdStage direction(@NotNull DirectionType direction) {
            this.direction = Objects.requireNonNull(direction, "direction must not be null");
            return this;
        }

        /**
         * <p>The transaction ID</p>
         * <p>The transaction ID</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("transactionId")
        public _FinalStage transactionId(@NotNull String transactionId) {
            this.transactionId = Objects.requireNonNull(transactionId, "transactionId must not be null");
            return this;
        }

        /**
         * <p>Indicates the format of the receipt from which the transaction is derived.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage receiptMedium(ReceiptMediumType receiptMedium) {
            this.receiptMedium = Optional.ofNullable(receiptMedium);
            return this;
        }

        /**
         * <p>Indicates the format of the receipt from which the transaction is derived.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "receiptMedium", nulls = Nulls.SKIP)
        public _FinalStage receiptMedium(Optional<ReceiptMediumType> receiptMedium) {
            this.receiptMedium = receiptMedium;
            return this;
        }

        /**
         * <p>The unique identifier for an online order linked to this transaction.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage orderId(String orderId) {
            this.orderId = Optional.ofNullable(orderId);
            return this;
        }

        /**
         * <p>The unique identifier for an online order linked to this transaction.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "orderId", nulls = Nulls.SKIP)
        public _FinalStage orderId(Optional<String> orderId) {
            this.orderId = orderId;
            return this;
        }

        /**
         * <p>The card product ID associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage cardProductId(String cardProductId) {
            this.cardProductId = Optional.ofNullable(cardProductId);
            return this;
        }

        /**
         * <p>The card product ID associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "cardProductId", nulls = Nulls.SKIP)
        public _FinalStage cardProductId(Optional<String> cardProductId) {
            this.cardProductId = cardProductId;
            return this;
        }

        /**
         * <p>The card network associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage cardNetwork(CardNetwork cardNetwork) {
            this.cardNetwork = Optional.ofNullable(cardNetwork);
            return this;
        }

        /**
         * <p>The card network associated with the transaction. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "cardNetwork", nulls = Nulls.SKIP)
        public _FinalStage cardNetwork(Optional<CardNetwork> cardNetwork) {
            this.cardNetwork = cardNetwork;
            return this;
        }

        /**
         * <p>Acquirer Reference Number</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage acquirerReferenceNumber(String acquirerReferenceNumber) {
            this.acquirerReferenceNumber = Optional.ofNullable(acquirerReferenceNumber);
            return this;
        }

        /**
         * <p>Acquirer Reference Number</p>
         */
        @java.lang.Override
        @JsonSetter(value = "acquirerReferenceNumber", nulls = Nulls.SKIP)
        public _FinalStage acquirerReferenceNumber(Optional<String> acquirerReferenceNumber) {
            this.acquirerReferenceNumber = acquirerReferenceNumber;
            return this;
        }

        /**
         * <p>System Trace Audit Number</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage systemTraceAuditNumber(String systemTraceAuditNumber) {
            this.systemTraceAuditNumber = Optional.ofNullable(systemTraceAuditNumber);
            return this;
        }

        /**
         * <p>System Trace Audit Number</p>
         */
        @java.lang.Override
        @JsonSetter(value = "systemTraceAuditNumber", nulls = Nulls.SKIP)
        public _FinalStage systemTraceAuditNumber(Optional<String> systemTraceAuditNumber) {
            this.systemTraceAuditNumber = systemTraceAuditNumber;
            return this;
        }

        /**
         * <p>Retrieval Reference Number</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage retrievalReferenceNumber(String retrievalReferenceNumber) {
            this.retrievalReferenceNumber = Optional.ofNullable(retrievalReferenceNumber);
            return this;
        }

        /**
         * <p>Retrieval Reference Number</p>
         */
        @java.lang.Override
        @JsonSetter(value = "retrievalReferenceNumber", nulls = Nulls.SKIP)
        public _FinalStage retrievalReferenceNumber(Optional<String> retrievalReferenceNumber) {
            this.retrievalReferenceNumber = retrievalReferenceNumber;
            return this;
        }

        /**
         * <p>Transaction approval code</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage authorizationCode(String authorizationCode) {
            this.authorizationCode = Optional.ofNullable(authorizationCode);
            return this;
        }

        /**
         * <p>Transaction approval code</p>
         */
        @java.lang.Override
        @JsonSetter(value = "authorizationCode", nulls = Nulls.SKIP)
        public _FinalStage authorizationCode(Optional<String> authorizationCode) {
            this.authorizationCode = authorizationCode;
            return this;
        }

        /**
         * <p>Card last four digits. This field is <strong>required</strong> when <code>paymentType</code> is <code>CARD</code> and <code>matchedOfferId</code> is provided. It <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage cardLastFour(String cardLastFour) {
            this.cardLastFour = Optional.ofNullable(cardLastFour);
            return this;
        }

        /**
         * <p>Card last four digits. This field is <strong>required</strong> when <code>paymentType</code> is <code>CARD</code> and <code>matchedOfferId</code> is provided. It <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "cardLastFour", nulls = Nulls.SKIP)
        public _FinalStage cardLastFour(Optional<String> cardLastFour) {
            this.cardLastFour = cardLastFour;
            return this;
        }

        /**
         * <p>Bank identification number (BIN). Must be a valid BIN of 6 digits. If over 6 digits, please send first 6. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage cardBin(String cardBin) {
            this.cardBin = Optional.ofNullable(cardBin);
            return this;
        }

        /**
         * <p>Bank identification number (BIN). Must be a valid BIN of 6 digits. If over 6 digits, please send first 6. This field <strong>must</strong> be omitted when <code>paymentType</code> is <code>CASH</code> or <code>UNKNOWN</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "cardBIN", nulls = Nulls.SKIP)
        public _FinalStage cardBin(Optional<String> cardBin) {
            this.cardBin = cardBin;
            return this;
        }

        /**
         * <p>Merchant details</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage merchant(Merchant merchant) {
            this.merchant = Optional.ofNullable(merchant);
            return this;
        }

        /**
         * <p>Merchant details</p>
         */
        @java.lang.Override
        @JsonSetter(value = "merchant", nulls = Nulls.SKIP)
        public _FinalStage merchant(Optional<Merchant> merchant) {
            this.merchant = merchant;
            return this;
        }

        /**
         * <p>The unique Kard location ID where the transaction took place. This field <strong>must</strong> be omitted  when <code>paymentType</code> is <code>UNKNOWN</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage matchedLocationId(String matchedLocationId) {
            this.matchedLocationId = Optional.ofNullable(matchedLocationId);
            return this;
        }

        /**
         * <p>The unique Kard location ID where the transaction took place. This field <strong>must</strong> be omitted  when <code>paymentType</code> is <code>UNKNOWN</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "matchedLocationId", nulls = Nulls.SKIP)
        public _FinalStage matchedLocationId(Optional<String> matchedLocationId) {
            this.matchedLocationId = matchedLocationId;
            return this;
        }

        /**
         * <p>The ID of the Kard offer to which the transaction was matched. If this field is omitted, the transaction will be considered unmatched to any Kard offer. This field <strong>must</strong> be omitted when the <code>paymentType</code> is <code>UNKNOWN</code> and neither an orderId nor a <code>cardLastFour</code> is supplied.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage matchedOfferId(String matchedOfferId) {
            this.matchedOfferId = Optional.ofNullable(matchedOfferId);
            return this;
        }

        /**
         * <p>The ID of the Kard offer to which the transaction was matched. If this field is omitted, the transaction will be considered unmatched to any Kard offer. This field <strong>must</strong> be omitted when the <code>paymentType</code> is <code>UNKNOWN</code> and neither an orderId nor a <code>cardLastFour</code> is supplied.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "matchedOfferId", nulls = Nulls.SKIP)
        public _FinalStage matchedOfferId(Optional<String> matchedOfferId) {
            this.matchedOfferId = matchedOfferId;
            return this;
        }

        /**
         * <p>The base amount in cents excluding additional charges (such as tips, taxes, and other fees).</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage subtotal(Integer subtotal) {
            this.subtotal = Optional.ofNullable(subtotal);
            return this;
        }

        /**
         * <p>The base amount in cents excluding additional charges (such as tips, taxes, and other fees).</p>
         */
        @java.lang.Override
        @JsonSetter(value = "subtotal", nulls = Nulls.SKIP)
        public _FinalStage subtotal(Optional<Integer> subtotal) {
            this.subtotal = subtotal;
            return this;
        }

        @java.lang.Override
        public MatchedTransactionsAttributes build() {
            return new MatchedTransactionsAttributes(
                    userId,
                    amount,
                    subtotal,
                    description,
                    authorizationDate,
                    matchedOfferId,
                    matchedLocationId,
                    merchant,
                    paymentType,
                    cardBin,
                    cardLastFour,
                    authorizationCode,
                    retrievalReferenceNumber,
                    systemTraceAuditNumber,
                    acquirerReferenceNumber,
                    direction,
                    cardNetwork,
                    transactionId,
                    cardProductId,
                    orderId,
                    receiptMedium,
                    additionalProperties);
        }

        @java.lang.Override
        public Builder additionalProperty(String key, Object value) {
            this.additionalProperties.put(key, value);
            return this;
        }

        @java.lang.Override
        public Builder additionalProperties(Map<String, Object> additionalProperties) {
            this.additionalProperties.putAll(additionalProperties);
            return this;
        }
    }
}
